---
title: "data-sorting"
author: "Cole Henry"
date: "2023-01-23"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# data scraping from pro football reference
install.packages('rvest')
library(rvest)

simple <- read_html("https://www.pro-football-reference.com/years/2022/opp.htm") %>%
  html_nodes(".table_wrapper") %>%
  html_text()

library(readr)
main <- parse_number(simple)

simple
```

```{r}
#reading in data
library(readr)
X2022TeamDefense <- read_csv("2022TeamDefense.csv")
X2022PassingDefense <- read_csv("2022PassingDefense.csv")

#removing un-needed avg rows
X2022PassingDefense <- X2022PassingDefense[-c(33:35),]
X2022TeamDefense <- X2022TeamDefense[-c(33:35),]

#from espn 2022FFL
TotFantasyPts <- c(158,102,122,120,102,105,87,153,138,97,78,106,102,98,84,100,173,32,115,97,156,89,94,91,69,129,89,111,55,64,71,80)
X2022PassingDefense <- cbind(X2022PassingDefense,TotfantasyPts)
X2022PassingDefense <- as.data.frame(X2022PassingDefense)

colnames(X2022PassingDefense)[3] <- "GamesPlayed"

X2022PassingDefense <- transform(X2022PassingDefense, FantasyPPG = TotFantasyPts / GamesPlayed)
```

